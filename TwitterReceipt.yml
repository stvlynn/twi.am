app:
  description: ''
  icon: ğŸ§¾
  icon_background: '#D5F5F6'
  mode: workflow
  name: Twitter Receipt
  use_icon_as_answer_icon: false
kind: app
version: 0.1.3
workflow:
  conversation_variables: []
  environment_variables:
  - description: ''
    id: b98cd52e-fdc9-4fe9-ad88-6f11a15ecd64
    name: token
    selector: []
    value: ''
    value_type: secret
  - description: ''
    id: a2e75343-7669-42b6-87f6-b4efe3d5bc5f
    name: token_bak
    selector: []
    value: ''
    value_type: secret
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: start
        targetType: code
      id: 1732420145745-source-1732420268481-target
      source: '1732420145745'
      sourceHandle: source
      target: '1732420268481'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: llm
      id: 1732420294315-source-1732420315223-target
      source: '1732420294315'
      sourceHandle: source
      target: '1732420315223'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: if-else
      id: 1732420268481-source-1732420883675-target
      source: '1732420268481'
      sourceHandle: source
      target: '1732420883675'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: http-request
      id: 1732420883675-true-1732420294315-target
      source: '1732420883675'
      sourceHandle: 'true'
      target: '1732420294315'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: end
      id: 1732420883675-false-1732420916169-target
      source: '1732420883675'
      sourceHandle: 'false'
      target: '1732420916169'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: parameter-extractor
      id: 1732420315223-source-1732421779593-target
      source: '1732420315223'
      sourceHandle: source
      target: '1732421779593'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: parameter-extractor
        targetType: end
      id: 1732421779593-source-1732421770134-target
      source: '1732421779593'
      sourceHandle: source
      target: '1732421770134'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: Start
        type: start
        variables:
        - label: user_id
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: user_id
        - label: lang
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: lang
      height: 116
      id: '1732420145745'
      position:
        x: 80
        y: 282
      positionAbsolute:
        x: 80
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(user_id: str) -> dict:\n    import re\n    # æ£€æŸ¥æ˜¯å¦åªåŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿\n\
          \    pattern = r'^[a-zA-Z0-9_]+$'\n    if not re.match(pattern, user_id):\n\
          \        return {\n            \"result\": \"wrong_id\"\n        }\n   \
          \ return {\n        \"result\": \"https://twitter.com/\" + user_id\n   \
          \ }"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: Code
        type: code
        variables:
        - value_selector:
          - '1732420145745'
          - user_id
          variable: user_id
      height: 54
      id: '1732420268481'
      position:
        x: 384
        y: 282
      positionAbsolute:
        x: 384
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        desc: ''
        headers: ''
        method: get
        params: 'scraper:twitter-profile

          format:html

          url:{{#1732420268481.result#}}

          token:{{#env.token_bak#}}'
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP Request
        type: http-request
        url: https://api.crawlbase.com/
        variables: []
      height: 94
      id: '1732420294315'
      position:
        x: 988
        y: 282
      positionAbsolute:
        x: 988
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1732420294315'
          - body
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemini-pro
          provider: google
        prompt_template:
        - id: cda223d1-e530-45e2-962a-21e90d98a5c3
          role: system
          text: '# ç”¨æˆ·æ¨æ–‡

            {{#context#}}


            # æ‰§è¡Œæ­¥éª¤

            ä»ç”¨æˆ·æ¨æ–‡ä¸­è·å–è¿‘æœŸæ¨æ–‡ï¼Œå¹¶ä¸”ç»“åˆç®€ä»‹å†…å®¹æ¨æ–­ç”¨æˆ·å¯èƒ½çš„å–œå¥½/èŒä¸š/ä¹ æƒ¯

            æ¨æ–­ç”¨æˆ·çš„MBTIï¼Œåˆ¤æ–­æ ‡å‡†å¦‚ä¸‹ï¼š

            I/E:

            I: Introverted individuals prefer solitary activities and get exhausted
            by social interaction. They tend to be quite sensitive to external stimulation
            (e.g. sound, sight or smell) in general. / E: Extraverted individuals
            prefer group activities and get energized by social interaction. They
            tend to be more enthusiastic and more easily excited than Introverts.

            S/N:

            S: Observant individuals are highly practical, pragmatic and down-to-earth.
            They tend to have strong habits and focus on what is happening or has
            already happened. / N: Intuitive individuals are very imaginative, open-minded
            and curious. They prefer novelty over stability and focus on hidden meanings
            and future possibilities.

            T/F:

            T: Thinking individuals focus on objectivity and rationality, prioritizing
            logic over emotions. They tend to hide their feelings and see efficiency
            as more important than cooperation. / F: Feeling individuals are sensitive
            and emotionally expressive. They are more empathic and less competitive
            than Thinking types, and focus on social harmony and cooperation.

            J/P:

            J: Judging individuals are decisive, thorough and highly organized. They
            value clarity, predictability and closure, preferring structure and planning
            to spontaneity. / P: Prospecting individuals are very good at improvising
            and spotting opportunities. They tend to be flexible, relaxed nonconformists
            who prefer keeping their options open.

            è¯·è®°ä½åˆ†æçš„ç»“æœï¼Œè¦è¾“å‡ºçš„åˆ†ææŠ¥å‘Šä¸­è¦ä½¿ç”¨è¿™ä¸ªç»“æœ

            # æ ¼å¼

            ä½ éœ€è¦ä»¥ç”¨æˆ·æµè§ˆå™¨è¯­è¨€{{#1732420145745.lang#}}æ’°å†™æ–‡æœ¬

            ä»¥ä¸‹ç¤ºä¾‹å†…å®¹ä¸­â€œ//â€è¡¨ç¤ºæ³¨é‡Šç¬¦å·ï¼Œå…¶å†…å®¹ä¸èƒ½å‡ºç°åœ¨è¾“å‡ºçš„å†…å®¹ä¸­

            ä»¥ä¸‹ç¤ºä¾‹å†…å®¹å‡è®¾ç”¨æˆ·çš„MBTIä¸ºXXXXï¼Œåœ¨å®é™…è¾“å‡ºè¿‡ç¨‹ä¸­éœ€è¦æ”¹ä¸ºä¸Šé¢åˆ†æçš„MBTIï¼Œæ ·ä¾‹è¾“å‡ºå¦‚ä¸‹ï¼š

            **{{name}}çš„MBTIåˆ†ææŠ¥å‘Š**

            {{name}}çš„MBTIæ˜¯ï¼š**XXXX**

            åˆ†æå¦‚ä¸‹ï¼š

            - **å†…å‘ä¸å¤–å‘ï¼ˆI/Eï¼‰**ï¼š// å¼€å¤´å†™I/Eçš„ç»“è®ºï¼Œåé¢å†…å®¹ç»“åˆå…·ä½“æ¨æ–‡æˆ–ç®€ä»‹çš„å†…å®¹è¿›è¡Œåˆ†æ

            - **å®æ„Ÿä¸ç›´è§‰ï¼ˆS/Nï¼‰**ï¼š// å¼€å¤´å†™S/Nçš„ç»“è®ºï¼Œåé¢å†…å®¹ç»“åˆå…·ä½“æ¨æ–‡æˆ–ç®€ä»‹çš„å†…å®¹è¿›è¡Œåˆ†æ

            - **æ€è€ƒä¸æƒ…æ„Ÿï¼ˆT/Fï¼‰**ï¼š// å¼€å¤´å†™T/Fçš„ç»“è®ºï¼Œåé¢å†…å®¹ç»“åˆå…·ä½“æ¨æ–‡æˆ–ç®€ä»‹çš„å†…å®¹è¿›è¡Œåˆ†æ

            - **åˆ¤æ–­ä¸æ„ŸçŸ¥ï¼ˆJ/Pï¼‰**ï¼š// å¼€å¤´å†™J/Pçš„ç»“è®ºï¼Œåé¢å†…å®¹ç»“åˆå…·ä½“æ¨æ–‡æˆ–ç®€ä»‹çš„å†…å®¹è¿›è¡Œåˆ†æ

            ---

            **å’Œ{{name}}æœ‰åŒæ ·MBTIçš„åäºº**

            //ä»‹ç»ä¸€ä¸ªç›¸åŒMBTIçš„åäººï¼Œå†™ä¸€å¥è¯çš„å†…å®¹ã€‚'
        selected: true
        title: LLM
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1732420315223'
      position:
        x: 1292
        y: 282
      positionAbsolute:
        x: 1292
        y: 282
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is not
            id: f240cdbb-10eb-4fe3-8c18-b1a7d95cacf0
            value: err
            varType: string
            variable_selector:
            - '1732420268481'
            - result
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: IF/ELSE
        type: if-else
      height: 126
      id: '1732420883675'
      position:
        x: 688
        y: 282
      positionAbsolute:
        x: 688
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1732420268481'
          - result
          variable: err
        selected: false
        title: End
        type: end
      height: 90
      id: '1732420916169'
      position:
        x: 988
        y: 415
      positionAbsolute:
        x: 988
        y: 415
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1732421779593'
          - mbti
          variable: mbti
        - value_selector:
          - '1732421779593'
          - IE_report
          variable: IE_report
        - value_selector:
          - '1732421779593'
          - SN_report
          variable: SN_report
        - value_selector:
          - '1732421779593'
          - TF_report
          variable: TF_report
        - value_selector:
          - '1732421779593'
          - JP_report
          variable: JP_report
        - value_selector:
          - '1732421779593'
          - celebrity
          variable: celebrity
        - value_selector:
          - '1732421779593'
          - celebrity_report
          variable: celebrity_report
        selected: false
        title: End 2
        type: end
      height: 246
      id: '1732421770134'
      position:
        x: 1965.77792603724
        y: 282
      positionAbsolute:
        x: 1965.77792603724
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        instruction: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: deepseek-chat
          provider: deepseek
        parameters:
        - description: Uer's MBTI
          name: mbti
          required: false
          type: string
        - description: ç”¨æˆ·æ˜¯å†…å‘è¿˜æ˜¯å¤–å‘ï¼ˆI/Eï¼‰çš„è¯¦ç»†ç»“è®ºå’Œåˆ¤æ–­ä¾æ®ï¼Œè¿™é‡Œä½ åº”è¯¥è¾“å‡ºå®Œæ•´çš„ä¸€æ®µå†…å®¹è€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦
          name: IE_report
          required: false
          type: string
        - description: ç”¨æˆ·æ˜¯å®æ„Ÿä¸ç›´è§‰ï¼ˆS/Nï¼‰çš„è¯¦ç»†ç»“è®ºå’Œåˆ¤æ–­ä¾æ®ï¼Œè¿™é‡Œä½ åº”è¯¥è¾“å‡ºå®Œæ•´çš„ä¸€æ®µå†…å®¹è€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦
          name: SN_report
          required: false
          type: string
        - description: ç”¨æˆ·æ˜¯æ€è€ƒä¸æƒ…æ„Ÿï¼ˆT/Fï¼‰çš„è¯¦ç»†ç»“è®ºå’Œåˆ¤æ–­ä¾æ®ï¼Œè¿™é‡Œä½ åº”è¯¥è¾“å‡ºå®Œæ•´çš„ä¸€æ®µå†…å®¹è€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦
          name: TF_report
          required: false
          type: string
        - description: ç”¨æˆ·æ˜¯åˆ¤æ–­ä¸æ„ŸçŸ¥ï¼ˆJ/Pï¼‰çš„è¯¦ç»†ç»“è®ºå’Œåˆ¤æ–­ä¾æ®ï¼Œè¿™é‡Œä½ åº”è¯¥è¾“å‡ºå®Œæ•´çš„ä¸€æ®µå†…å®¹è€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦
          name: JP_report
          required: false
          type: string
        - description: Celebrity who had the same MBTI with the user
          name: celebrity
          required: false
          type: string
        - description: detailed report why the user has the same MBTI with the celebrity
          name: celebrity_report
          required: false
          type: string
        query:
        - '1732420315223'
        - text
        reasoning_mode: prompt
        selected: false
        title: Parameter Extractor 2
        type: parameter-extractor
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1732421779593'
      position:
        x: 1626.4425753894136
        y: 282
      positionAbsolute:
        x: 1626.4425753894136
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -635.0834141057451
      y: 25.52879284904708
      zoom: 0.7926402104460676
